# sbx_mccann2018
Sunbeam extension to reproduce key results from McCann et al 2018 (PMID: 29761040)


## Background

This report uses the [Sunbeam pipeline](https://github.com/sunbeam-labs/sunbeam) to reproduce findings from "Viromes of one year old infants reveal the impact of birth mode on microbiome diversity" [(PMID: 29761040)](https://www.ncbi.nlm.nih.gov/pubmed/29761040) by McCann *et al*. A key finding of this study is that the virome at 1 y/o seems to correlate with the birth mode--that is, that children born by spontaneous vaginal delivery (SVD) have higher viral diversity and higher *Anelloviridae* richness than children born by C-section. The purpose of this report is to see whether analysis with Sunbeam reproduces these results. This report was generated by the extension [sbx_mccann2018](https://github.com/louiejtaylor/sbx_mccann2018); this link also includes instructions for re-running this analysis from the beginning.

## Installing

Make sure you have Sunbeam installed--if not, [see the instructions here](https://sunbeam.readthedocs.io/en/latest/quickstart.html)

Clone the repo into your Sunbeam extensions directory, and install dependencies through Conda:

    source activate sunbeam
    cd $SUNBEAM_DIR/extensions
    git clone https://github.com/louiejtaylor/sbx_mccann2018
    conda install -c bioconda -c conda-forge --file sbx_mccann2018/requirements.txt

You'll want a Kraken database to query--see the [Kraken documentation](http://ccb.jhu.edu/software/kraken/MANUAL.html#kraken-databases) for database-building instructions if you don't already have one.

## Running

Since the McCann 2018 data is available through NCBI SRA, all you need to do is pass the SRA project identifier to `sunbeam init`:

    sunbeam init McCann2018 --data_acc SRP106048 
    
And then run Sunbeam, specifying `mccann_report` as the target rule:

    sunbeam run --configfile sunbeam_config.yml --cores 20 mccann_report
   
